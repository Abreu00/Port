{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from \"react\";\nimport Layout from \"../../layouts\";\nimport Header from \"../../components/Header\";\nimport ClearFix from \"../../components/ClearFix\";\nimport Cta from \"../../components/Cta\";\nimport { Context } from \"../../context\";\nimport projects from \"../../assets/projects\";\nimport { useRouter } from \"next/router\";\nimport { Title, Container, Image, Row } from \"./styles\";\nexport default function ProjectPage(_ref) {\n  var id = _ref.id;\n  var context = useContext(Context);\n  var router = useRouter();\n  var projectNumber = _parseInt(router.query.id) - 1;\n  var project = projects[projectNumber];\n  var img = project.img;\n  useEffect(function () {\n    document.title = context.translation.projects[projectNumber].title + \" | FÃ¡bio de Abreu\";\n  }, [context.translation, projectNumber]);\n\n  var _useState = useState({\n    width: \"0rem\",\n    height: \"0rem\",\n    minHeight: \"0\",\n    minWidth: \"0\"\n  }),\n      imgState = _useState[0],\n      setImgState = _useState[1];\n\n  function handleImageLoad(_ref2) {\n    var target = _ref2.target;\n    var aspectRatio = target.naturalWidth / target.naturalHeight;\n    var width = aspectRatio * 25;\n    var height = 1 / aspectRatio * 25;\n    setImgState({\n      width: \"\".concat(width, \"vmax\"),\n      height: \"\".concat(height, \"vmax\"),\n      minWidth: \"\".concat(width, \"rem\"),\n      minHeight: \"\".concat(height, \"rem\")\n    });\n  }\n\n  return __jsx(Layout, null, __jsx(Container, null, __jsx(Header, null), __jsx(Row, null, __jsx(Title, null, context.translation.projects[projectNumber].title), __jsx(\"div\", null, project.ctas.map(function (cta, index) {\n    return __jsx(Cta, {\n      key: index,\n      link: cta.link\n    }, cta.text);\n  }))), __jsx(ClearFix, null, __jsx(Image, {\n    width: imgState.width,\n    height: imgState.height,\n    minHeight: imgState.minHeight,\n    minWidth: imgState.minWidth,\n    onLoad: handleImageLoad,\n    src: img\n  }), context.translation.projects[projectNumber].desc.map(function (text, i) {\n    return __jsx(\"p\", {\n      key: i\n    }, text);\n  }))));\n}\nProjectPage.getInitialProps =\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {});\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));","map":null,"metadata":{},"sourceType":"module"}